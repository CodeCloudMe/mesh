#!/usr/bin/env node

var fs = require('fs'),
latte = require('../'),
celeri = require('celeri');

function build(data) {
	latte.build(data, function(){});
}


function bootstrap(data) {

	data.platforms = decodeURIComponent(data.platforms).split('+');

	latte.bootstrap(data, function(){});
}


function plugins(data) {
	latte.plugins(data, function() {
		//TODO
	});
}

function platforms(data) {
	latte.platforms(data, function() {
		//TODO
	});
}

function version() {
	console.log(JSON.parse(fs.readFileSync(__dirname + '/../package.json','utf8')).version);
}


celeri.option('build :input :output', 'Build a project', build).
option('platforms', 'Show platforms', platforms).
option('plugins :platform OR plugins', 'Show plugins', plugins).
option('bootstrap :path :platforms', 'Start a project', bootstrap).
option('version', 'App version', version).
addHelp({ category: 'examples', command: 'bootstrap . firefox+node+web'}).
addHelp({ category: 'examples', command: 'plugins firefox'});


celeri.parse(process.argv);




